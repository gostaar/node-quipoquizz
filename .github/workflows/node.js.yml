name: Mon Workflow
on:
  push:
    branches:
      - main

    steps:
      - name: Check IP Address
        run: echo 'IP Address: $(curl -s https://api64.ipify.org)'
        
      - name: Install Dependencies and Run Application
        run: |
          rm -rf node_modules package-lock.json
          npm cache clean -f
          npm install -g npm@latest
          npm install express 
          npm install mongoose
          npm install cors --force
          npm ci
          npm run build --if-present
          npm start

   
